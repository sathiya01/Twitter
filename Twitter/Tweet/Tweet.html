<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>New Tweet</title>
    <link rel="stylesheet" href="../Stylings/SearchTweet.css" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v6.1.1/css/all.css"
    />
  </head>
  <body onload="fetchFromAnotherJson()">
    <div>
      <div id="name">Elon Musk</div>
      <div id="sublabel1">Here goes line number 1</div>
      <div id="sublabel2">Here goes line 2</div>
    </div>
    <script type="text/javascript" src="../JS/index.js"></script>
    <script type="text/javascript">
      async function fetchFromAnotherJson() {
        const updateDiv = (id) => (content) =>
          (document.getElementById(id).innerHTML = content);
        const nameDiv = updateDiv("name");
        const subLabel1Div = updateDiv("sublabel1");
        const subLabel2Div = updateDiv("sublabel2");
        var user = await getTweet();
        const parsedValue = JSON.parse(user);
        // console.log(parsedValue);
        nameDiv(parsedValue.name);
        subLabel1Div(parsedValue.data.tweet_text);
        subLabel2Div(parsedValue.data.Account_handle);
        // postFromAnotherJson();
        // updateFromAnotherJsonFile();
      }

      async function postFromAnotherJson() {
        var result = await postTweet();
        // console.log(result);
      }

      async function updateFromAnotherJsonFile() {
        var result = await updateTweet();
        // console.log(result);
      }
    </script>
  </body>
</html>
